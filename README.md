# PC ç«¯ React ç»„ä»¶åº“åŸºæœ¬æ¡†æ¶

## ä¸€ã€ä¸šåŠ¡ç»„ä»¶åº“äº§ç”ŸèƒŒæ™¯

> åœ¨å®é™…é¡¹ç›®ä¸­ï¼ŒåŒä¸€æ¡ä¸šåŠ¡çº¿ä¸€èˆ¬éƒ½æœ‰è‡ªå·±çš„ä¸€å¥—è§„èŒƒï¼Œè¿™å¥—è§„èŒƒå¯èƒ½æ˜¯åŸºäº antd ç­‰é€šç”¨ UI ç»„ä»¶çš„æ”¹é€ ï¼Œå¾ˆå¤šæ—¶å€™ä¸šåŠ¡åœºæ™¯éƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œä¸ºä¿è¯å¤šä¸ªé¡¹ç›®çš„é€šç”¨ç»„ä»¶ç»Ÿä¸€è§†è§‰å’Œäº¤äº’ï¼Œå› æ­¤æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯ï¼ŒæŠ½å‡ºé€šç”¨ç»„ä»¶å½¢æˆä¸šåŠ¡ç»„ä»¶åº“å°±å¾ˆæœ‰å¿…è¦ï¼ŒåŒæ—¶ä¹Ÿæ›´å®¹æ˜“ç»´æŠ¤ã€‚

## äºŒã€æŠ€æœ¯æ ˆ

> åŸºäº react + antd æ ¹æ®ç»Ÿä¸€è®¾è®¡è§„èŒƒæŠ½å‡ºä¸šåŠ¡é€šç”¨ç»„ä»¶åº“æ–‡æ¡£ç«™åŸºäº react-styleguildist + webpack æœ€ç»ˆçš„ä¸šåŠ¡ç»„ä»¶ç”¨ rollup æ‰“åŒ…

## ä¸‰ã€ä¸šåŠ¡ç»„ä»¶å¼€å‘åŸåˆ™

> ä½è€¦åˆã€æ¨¡å—åŒ–ã€å¯å¤ç”¨

## å››ã€å¼€å‘ç»„ä»¶&æ–‡æ¡£

### å®‰è£…ä¾èµ–

```
yarn install
or
npm install
```

### è°ƒè¯•ã€å¼€å‘ç»„ä»¶åº“å¯åŠ¨æ–‡æ¡£æœåŠ¡

```
yarn doc
or
npm run doc
```

### ç»„ä»¶å¼€å‘

æ–°ç»„ä»¶ä»¥æ–‡ä»¶å¤¹å½¢å¼ç»Ÿä¸€æ”¾åˆ° `components` ä¸‹ï¼Œæœ€ç»ˆåœ¨ `components` ä¸‹çš„ `index.js` æ–‡ä»¶ä¸­å¯¼å‡º

åˆ©ç”¨ plop å·¥å…·å¿«é€Ÿç”Ÿæˆç»„ä»¶æ–‡ä»¶å¤¹ï¼Œä¼šæ ¹æ®æ¨¡æ¿æ–‡ä»¶ç”Ÿæˆä»¥ç»„ä»¶å‘½åçš„æ–‡ä»¶å¤¹ï¼ŒåŒæ—¶ä¿®æ”¹`components` ä¸‹çš„ `index.js`

```
yarn plop <ComponentName>
or
npx plop <ComponentName>
```

## æäº¤è§„èŒƒ

```
yarn commit
or
npm run commit
```

commit æäº¤è§„èŒƒæ­¥éª¤æç¤º

### æ–‡æ¡£æ‰“åŒ…

```
yarn build_doc
or
npm run build_doc
```

å¯ä»¥æ‰“åŒ…åéƒ¨ç½²åˆ° github pages ä¸Š [æˆ³è¿™é‡Œçœ‹](https://github.com/leitingting08/sum-react) æ·»åŠ  GitHub Actions æŒç»­é›†æˆ æäº¤è‡ªåŠ¨éƒ¨ç½²

## äº”ã€ç»„ä»¶åº“æ‰“åŒ…

```
yarn build
or
npm run build
```

## å…­ã€å‘å¸ƒå‰å‡†å¤‡

1. é¦–å…ˆç¡®ä¿å·²ç»ç™»å½• npm è´¦å·å¹¶ä¸”æ‹¥æœ‰å‘å¸ƒæƒé™
2. ç”Ÿæˆç‰ˆæœ¬å·ã€æ‰“ tag å’Œç”Ÿæˆæ›´æ”¹æ—¥å¿—ï¼Œå…¶ä»–ç”¨æ³•è¯¦æƒ…è§[standard-version](https://github.com/conventional-changelog/standard-version)

```
yarn release -- --release-as <ç‰ˆæœ¬å·>
# Or
npm run release -- --release-as <ç‰ˆæœ¬å·>
```

æˆåŠŸä¹‹åæŠŠ tag æ¨åˆ°è¿œç¨‹

```
git push --follow-tags origin master
```

## ä¸ƒã€å‘å¸ƒåˆ° npm

å¦‚æœä¹‹å‰æ²¡æœ‰ç™»å½•è¿‡ npm çš„è¯ï¼Œéœ€è¦å…ˆç™»å½•å†æ‰§è¡Œå‘å¸ƒå‘½ä»¤ã€‚æ”¾åˆ° npm scripts é‡Œ pub å‘½ä»¤ï¼Œå…¶å®å°±æ˜¯æ‰“åŒ…å’Œå‘å¸ƒçš„ç»„åˆå‘½ä»¤ï¼Œæ‰§è¡Œå‘å¸ƒä¹‹å‰å…ˆæ‰“åŒ…æ–‡æ¡£éƒ¨ç½²ã€‚æˆ–è€…ä¸æƒ³è¦éƒ¨ç½²æ–‡æ¡£å°±ç›´æ¥æ‰§è¡Œå‘å¸ƒå‘½ä»¤å¥½äº†

```
yarn pub
or
npm run pub
```

## å…«ã€ç»„ä»¶åº“ä½¿ç”¨

æŒ‰éœ€åŠ è½½ä½¿ç”¨ babel-plugin-import æ’ä»¶é…ç½® babel

é¦–å…ˆå®‰è£…

```
yarn add babel-plugin-import --dev
or
npm i babel-plugin-import -D
```

å…¶æ¬¡ï¼Œé…ç½® babel æ’ä»¶ï¼Œå…·ä½“çœ‹é¡¹ç›®æ˜¯åœ¨ webpack é‡Œé…ç½®è¿˜æ˜¯åœ¨ babel.config.js æ–‡ä»¶é‡Œé…ç½®ï¼Œé…ç½®å®Œæˆä¹‹åå°±èƒ½ä½¿ç”¨æŒ‰éœ€åŠ è½½äº† ğŸš¨ æ³¨æ„ï¼šåŒæ—¶éœ€è¦é…ç½® antd çš„æŒ‰éœ€åŠ è½½å’Œä¸šåŠ¡ç»„ä»¶åº“ sum-react çš„æŒ‰éœ€åŠ è½½ï¼Œå› ä¸º sum-react æ˜¯ä¾èµ– antd çš„ã€‚

```
// antdçš„æŒ‰éœ€åŠ è½½
['import', {
      libraryName: 'antd',
      libraryDirectory: "es",
      style: true // ä¹Ÿæ˜¯ç”¨less
    }
],
[
   'import', {
      libraryName: 'sum-react',
      libraryDirectory: "es", // æ–‡ä»¶ç›®å½•ï¼Œeså’Œlibï¼Œé»˜è®¤lib
      camel2DashComponentName: false,
      style: name=>`${name}/index.less` // ç”¨lessï¼Œä¾¿äºé…ç½®ä¸»é¢˜è‰²
  }
]

```

## ä¹ã€TODO

- [x] æ–‡æ¡£ç¤ºä¾‹
- [x] æ›´æ”¹æ—¥å¿—
- [x] æ–‡æ¡£éƒ¨ç½²
- [x] å·¥å…·å¿«é€Ÿç”Ÿæˆæ–‡ä»¶
- [x] æŒ‰éœ€å¼•å…¥
- [ ] å•å…ƒæµ‹è¯•
- [ ] è®°å½•æ‰“ç‚¹
